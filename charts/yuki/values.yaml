app:
  name: 'yuki-proxy'
  group: default-app-group
  replicaCount: 4
  container:
    image: 406122784773.dkr.ecr.us-east-1.amazonaws.com/yuki-proxy:0.0.254
    port: 5162
    env:
      ASPNETCORE_ENVIRONMENT: Prod
      COMPUTE_HOST: https://prod.yukicomputing.com
      SYSTEM_HOST: https://prod.yukicomputing.com
      SERILOG_DATADOG_ENABLED: true
      PROXY_HOST:
      REDIS_HOST:
  service:
    type: NodePort
    port: 5162
    targetPort: 5162
    prometheus:
      enabled: false

serviceAccount:
  enabled: false

redisSecret:
  create: true

# External Secrets configuration for Snowflake user credentials
externalSecrets:
  enabled: false
  # Deploy external-secrets operator (for self-hosted mode)
  operator:
    enabled: false
  # SecretStore configuration
  secretStore:
    # Choose either 'secretsmanager' or 'parameterstore'
    type: secretsmanager
    # AWS region for the SecretStore
    region: us-east-1
    # IAM role ARN for accessing secrets (for self-hosted deployments)
    # In SaaS mode, this will use the serviceAccount.roleARN
    roleArn: ""
    # Optional: External ID for additional security when assuming cross-account roles
    externalID: ""
  
  # Snowflake user credentials configuration
  users: []
  # Example configuration:
  # users:
  #   - username: user1
  #     secretKey: /snowflake/users/user1/credentials  # Path to secret in AWS
  #     privateKeyProperty: private_key  # Property name for private key
  #     passphraseProperty: passphrase   # Optional: property name for passphrase
  #   - username: user2
  #     secretKey: /snowflake/users/user2/credentials
  #     privateKeyProperty: private_key
  #     # No passphrase for user2

hpa:
  enabled: true
  minReplicas: 5
  maxReplicas: 15
  targetCPUUtilizationPercentage: 40
  targetMemoryUtilizationPercentage: 40

ingress:
  enabled: false

resources:
  requests:
    memory: "1Gi"
    cpu: "500m"
  limits:
    memory: "1Gi"

affinity: { }
tolerations: [ ]

# Configuration for external-secrets subchart (when operator.enabled = true)
external-secrets:
  installCRDs: true
  replicaCount: 1
  serviceAccount:
    create: true
